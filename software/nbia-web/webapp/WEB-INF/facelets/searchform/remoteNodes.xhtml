<?xml version="1.0" encoding="UTF-8"?>

<!--L
   Copyright SAIC, Ellumen and RSNA (CTP)


   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/national-biomedical-image-archive/LICENSE.txt for details.
L-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ice="http://www.icesoft.com/icefaces/component">
                
<f:subview id="remoteNodes"
               rendered="#{searchWorkflowBean.numNodes gt 1}">  
                            

  <table border="0" width="100%" cellpadding="3" cellspacing="0"
         class="topBorderOnly" summary="" style="margin-bottom: 20px">
    <tr class="topBorder">
      <td colspan="2" class="formTitleIIII">
        <h:outputText value="NODES TO SEARCH" />
      </td>
    </tr>

    <tr class="topBorder">
      <td width="20%" class="formLabel">
        <h:outputText value="NBIA Nodes" />
                              
        <div>
          <h:commandLink target="avaiable_search_terms"
                         onclick="doAvailableSearchTermsPopup(); return false;"
                         title="Show which collections, modalities, anatomic sites, etc. for available from which nodes."
                         value="Lookup Search Terms"/>
        </div>                  
      </td>
      <td width="80%" class="formField">  
        <table width="90%" border="0" align="left" cellpadding="0"
               cellspacing="0">
          <tr>                                                                             
            <td width="30%">
              <div align="center">
                <span class="formMessage">
                  <h:outputText value="#{msg.search_available}" />
                </span>
              </div>
            </td>
            <td width="40%" align="center" valign="middle">
              <f:verbatim>&amp;nbsp;</f:verbatim>
            </td>
            <td width="30%">
              <div align="center">
                <span class="formMessage">
                  <h:outputText value="#{msg.search_selected} *" />
                </span>
              </div>
            </td>
            <td width="4%" valign="bottom">
              <f:verbatim>&amp;nbsp;</f:verbatim>
            </td>
          </tr>
          <tr>                
            <td width="80%" class="formField">                       
              <div id="remoteNodesDiv"
                   class="searchFormSelector">
                                                                                                            
                <h:dataTable id="remoteNodesCheckboxesTable"
                             width="100%" 
                             border="0" 
                             cellpadding="0" 
                             cellspacing="0" 
                             value="#{searchWorkflowBean.remoteNodeItems}"
                             var="remoteNode">
                  <h:column id="remoteNodeItemsColumn">
                    <span style="white-space:nowrap;">
                      <ice:selectBooleanCheckbox value="#{remoteNode.value}" 
                                                 partialSubmit="true"
                                                 title="#{remoteNode.description}"/> 
                      <h:outputText value="#{remoteNode.label}"
                                    title="#{remoteNode.description}"/>
                    </span>                                      
                  </h:column>    
                </h:dataTable> 
              </div>                        
            </td>
            <td align="center" valign="middle">
              <h:commandButton id="selectAllRemoteNodes" 
                                image="images/SELECTall-noarrow.gif" 
                                action="#{searchWorkflowBean.selectAllRemoteNodes}" />                            
              <br/>
              <h:commandButton id="unselectAllRemoteNodes"
                               image="images/REMOVE-all-noarrow.gif"
                               action="#{searchWorkflowBean.unselectAllRemoteNodes}" /> 
            </td>
            <td valign="top">
              <div class="searchFormSelector">
                <h:dataTable id="selectedRemoteNodesTable"
                             width="100%" 
                             border="0" 
                             cellpadding="0" 
                             cellspacing="0" 
                             value="#{searchWorkflowBean.selectedRemoteNodes}"
                             var="item">
                  <h:column id="selectedRemoteNodeColumn">
                    <h:outputText value="#{item}"/> 
                  </h:column>    
                </h:dataTable>                            
              </div>
            </td>                      
            <td valign="top"></td>

          </tr>   
        </table>  
      </td>
    </tr>    
    <tr>
      <td colspan="2">
        <h:outputText value="* Not selecting any nodes will cause a local search to be done." />
      </td>
    </tr>
  </table>
             
</f:subview> 

</ui:composition>                    